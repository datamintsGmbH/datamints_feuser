function formCheck(e){var t=!1,n=getEventTarget(e).id.split("_")[2];for(var i in datamints_feuser_inputids[n])"string"==typeof datamints_feuser_inputids[n][i]&&1==inputItemCheck(null,document.getElementById(datamints_feuser_inputids[n][i]))&&0==t&&(t=!0,window.event?event.returnValue=!1:e.preventDefault())}function inputItemCheck(e,t){var n=null,i=null,r=null,a=null,l=null;null!=e&&(t=getEventTarget(e));var s=t.value.replace(/\s+$/,"").replace(/^\s+/,"");if("select-multiple"==t.type)for(s=[],n=i=0;n<t.options.length;n++)null!=t.options[n]&&t.options[n].selected&&(s[i]=t.options[n].value,i++);if("checkbox"==t.type)if(0<=t.id.lastIndexOf("_item_"))for(s=!1,r=t.id.slice(0,t.id.lastIndexOf("_item_")),a=document.getElementById(r+"_wrapper").getElementsByTagName("input"),n=0;n<a.length;n++)null!=a[n]&&a[n].checked&&(s=!0);else s=t.checked;if("radio"==t.type)for(s=!1,r=t.id.slice(0,t.id.lastIndexOf("_item_")),a=document.getElementById(r+"_wrapper").getElementsByTagName("input"),n=0;n<a.length;n++)null!=a[n]&&a[n].checked&&(s=!0);if("file"==t.type){var d=[],o=[];for(s=!1,r=t.id.slice(0,t.id.lastIndexOf("_upload_")),a=document.getElementById(r+"_wrapper").getElementsByTagName("input"),n=0;n<a.length;n++)if(null!=a[n]){var u=a[n].name.slice(a[n].name.lastIndexOf("[")+1,a[n].name.length-1);"hidden"==a[n].type&&(d[u]=a[n].value),"checkbox"==a[n].type&&(o[u]=a[n].checked),("file"==a[n].type&&a[n].value||d[u]&&null!=o[u]&&!o[u])&&(s=!0)}}var f=t.name.split("[")[2].split("]")[0];"rep"==f.split("_").reverse()[0]&&(f=f.slice(0,f.length-4));var c=t.id.split("_")[2];if(removeInfo(c,f),null!=datamints_feuser_config[c][f]){var m=datamints_feuser_config[c][f].validation;if(datamints_feuser_config[c][f].required&&(!s||"object"==typeof s&&!s.length))return showInfo(c,f,"required"),!0;if(m)switch(m.type){case"password":var p=("rep"!=t.id.split("_").reverse()[0]?document.getElementById(t.id+"_rep"):document.getElementById(t.id.slice(0,t.id.length-4))).value;if(""!=s||""!=p){if(l=new Array("6"),s!=p)return showInfo(c,f,"equal"),!0;if(m.size&&(l=m.size.replace(" ","").split(",")),l[0]&&s.length<l[0]||l[1]&&s.length>l[1])return showInfo(c,f,"size"),!0}break;case"email":if(!s.match(/^[a-zA-Z0-9\._%+-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6}$/))return showInfo(c,f,"valid"),!0;break;case"username":if(!s.match(/^[^ ]*$/))return showInfo(c,f,"valid"),!0;break;case"zero":if("0"==s)return showInfo(c,f,"valid"),!0;break;case"emptystring":if(""==s)return showInfo(c,f,"valid"),!0;break;case"custom":if(m.regexp)if("object"==typeof s){var h=0;for(h in s)if(!s[h].match(m.regexp))return showInfo(c,f,"valid"),!0}else if(!s.match(m.regexp))return showInfo(c,f,"valid"),!0;if(m.size&&((l=m.size.replace(" ","").split(","))[0]&&s.length<l[0]||l[1]&&s.length>l[1]))return showInfo(c,f,"size"),!0}}return!1}function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n]))}function getEventTarget(e){return e.target?e.target:e.srcElement}function showInfo(e,t,n){var i=getErrorLabelFather(e,t);if(i){i.lastChild.className=="error-label error-"+t&&i.removeChild(i.lastChild);var r=document.createElement("div");r.className="error-label error-"+t,r.innerHTML=datamints_feuser_config[e][t][n],i.appendChild(r)}}function removeInfo(e,t){var n=getErrorLabelFather(e,t);n&&n.lastChild.className=="error-label error-"+t&&n.removeChild(n.lastChild)}function getErrorLabelFather(e,t){var n=t;return datamints_feuser_config[e][t].validation&&"password"==datamints_feuser_config[e][t].validation.type&&(n=t+"_rep"),document.getElementById("datamints_feuser_"+e+"_"+n+"_wrapper")}window.onload=function(){if(null!=datamints_feuser_config&&null!=datamints_feuser_inputids)for(var e in datamints_feuser_inputids)if("object"==typeof datamints_feuser_inputids[e]){var t;addEvent(document.getElementById("datamints_feuser_"+e+"_form"),"submit",formCheck);for(var n=0;n<datamints_feuser_inputids[e].length;n++)"checkbox"==(t=document.getElementById(datamints_feuser_inputids[e][n])).type?addEvent(t,"click",inputItemCheck):addEvent(t,"change",inputItemCheck)}};