var datamints_feuser_formId=0; window.onload=function(){if(!(null==datamints_feuser_config||null==datamints_feuser_inputids))for(datamints_feuser_formId in datamints_feuser_inputids)if("object"==typeof datamints_feuser_inputids[datamints_feuser_formId]){var c=document.getElementById("datamints_feuser_"+datamints_feuser_formId+"_form");addEvent(c,"submit",formCheck);for(var b=0;b<datamints_feuser_inputids[datamints_feuser_formId].length;b++)c=document.getElementById(datamints_feuser_inputids[datamints_feuser_formId][b]),"checkbox"== c.type?addEvent(c,"click",inputItemCheck):addEvent(c,"change",inputItemCheck)}};function formCheck(c){var b,a=!1;datamints_feuser_formId=getEventTarget(c).id.split("_")[2];for(fieldId in datamints_feuser_inputids[datamints_feuser_formId])"string"==typeof datamints_feuser_inputids[datamints_feuser_formId][fieldId]&&(b=inputItemCheck(null,document.getElementById(datamints_feuser_inputids[datamints_feuser_formId][fieldId])),!0==b&&!1==a&&(a=!0,window.event?event.returnValue=!1:c.preventDefault()))} function inputItemCheck(c,b){var a=null,f=null,e=a=null,g=null;null!=c&&(b=getEventTarget(c));var d=b.value.replace(/\s+$/,"").replace(/^\s+/,"");if("select-multiple"==b.type){f=0;d=[];for(a=0;a<b.options.length;a++)null!=b.options[a]&&b.options[a].selected&&(d[f]=b.options[a].value,f++)}if("checkbox"==b.type)if(0<=b.id.lastIndexOf("_item_")){d=!1;a=b.id.slice(0,b.id.lastIndexOf("_item_"));e=document.getElementById(a+"_wrapper").getElementsByTagName("input");for(a=0;a<e.length;a++)null!=e[a]&&e[a].checked&& (d=!0)}else d=b.checked;if("radio"==b.type){d=!1;a=b.id.slice(0,b.id.lastIndexOf("_item_"));e=document.getElementById(a+"_wrapper").getElementsByTagName("input");for(a=0;a<e.length;a++)null!=e[a]&&e[a].checked&&(d=!0)}if("file"==b.type){f=[];g=[];d=!1;a=b.id.slice(0,b.id.lastIndexOf("_upload_"));e=document.getElementById(a+"_wrapper").getElementsByTagName("input");for(a=0;a<e.length;a++)if(null!=e[a]){var h=e[a].name.slice(e[a].name.lastIndexOf("[")+1,e[a].name.length-1);"hidden"==e[a].type&&(f[h]= e[a].value);"checkbox"==e[a].type&&(g[h]=e[a].checked);if("file"==e[a].type&&e[a].value||f[h]&&null!=g[h]&&!g[h])d=!0}}a=b.name.split("[")[2].split("]")[0];"rep"==a.split("_").reverse()[0]&&(a=a.slice(0,a.length-4));removeInfo(a);datamints_feuser_formId=b.id.split("_")[2];if(null!=datamints_feuser_config[datamints_feuser_formId][a]){f=datamints_feuser_config[datamints_feuser_formId][a].validation;if(datamints_feuser_config[datamints_feuser_formId][a].required&&(!d||"object"==typeof d&&!d.length))return showInfo(a, "required"),!0;if(f)switch(f.type){case "password":e=("rep"!=b.id.split("_").reverse()[0]?document.getElementById(b.id+"_rep"):document.getElementById(b.id.slice(0,b.id.length-4))).value;if(""!=d||""!=e)if(g=["6"],d==e){if(f.size&&(g=f.size.replace(" ","").split(",")),g[0]&&d.length<g[0]||g[1]&&d.length>g[1])return showInfo(a,"size"),!0}else return showInfo(a,"equal"),!0;break;case "email":if(!d.match(/^[a-zA-Z0-9\._%+-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6}$/))return showInfo(a,"valid"),!0;break;case "username":if(!d.match(/^[^ ]*$/))return showInfo(a, "valid"),!0;break;case "zero":if("0"==d)return showInfo(a,"valid"),!0;break;case "emptystring":if(""==d)return showInfo(a,"valid"),!0;break;case "custom":if(f.regexp)if("object"==typeof d)for(g in g=0,d){if(!d[g].match(f.regexp))return showInfo(a,"valid"),!0}else if(!d.match(f.regexp))return showInfo(a,"valid"),!0;if(f.size&&(g=f.size.replace(" ","").split(","),g[0]&&d.length<g[0]||g[1]&&d.length>g[1]))return showInfo(a,"size"),!0}}return!1} function addEvent(c,b,a){c.addEventListener?c.addEventListener(b,a,!1):c.attachEvent&&(c["e"+b+a]=a,c[b+a]=function(){c["e"+b+a](window.event)},c.attachEvent("on"+b,c[b+a]))}function getEventTarget(c){return c.target?c.target:c.srcElement} function showInfo(c,b){var a=getErrorItemFather(c);if(a){a.lastChild.className=="error error-"+c&&a.removeChild(a.lastChild);var f=document.createElement("div");f.className="error error-"+c;f.innerHTML=datamints_feuser_config[datamints_feuser_formId][c][b];a.appendChild(f)}}function removeInfo(c){var b=getErrorItemFather(c);b&&b.lastChild.className=="error error-"+c&&b.removeChild(b.lastChild)} function getErrorItemFather(c){var b=c;datamints_feuser_config[datamints_feuser_formId][c].validation&&"password"==datamints_feuser_config[datamints_feuser_formId][c].validation.type&&(b=c+"_rep");return document.getElementById("datamints_feuser_"+datamints_feuser_formId+"_"+b+"_wrapper")};